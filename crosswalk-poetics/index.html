<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Test 1</title>
		<link rel="stylesheet" type="text/css" href="css/style.css"> </link>
	</head>

	<body>
		<div id="set-height"></div>

		<img id="bg-img" src="assets/Cropped.jpg">

		<video id="v0" tabindex="0" autobuffer preload>
			<source src="assets/Moss.mp4"></source>
		</video>

		<script>

		var frameNumber = 0, // start video at frame 0
			// lower numbers = faster playback
			playbackConst = 500, 
			// get page height from video duration
			setHeight = document.getElementById("set-height"), 
			// select video element         
			vid = document.getElementById('v0'); 
			// var vid = $('#v0')[0]; // jquery option

		// dynamically set the page height according to video length
		vid.addEventListener('loadedmetadata', function() {
		setHeight.style.height = Math.floor(vid.duration) * playbackConst * 2.8 + "px";
		});


		// Use requestAnimationFrame for smooth playback
		function scrollPlay(){  
		var frameNumber  = window.pageYOffset/playbackConst;
		vid.currentTime  = frameNumber;
		window.requestAnimationFrame(scrollPlay);
		}

		window.requestAnimationFrame(scrollPlay);

		</script>
	</body>
</html>